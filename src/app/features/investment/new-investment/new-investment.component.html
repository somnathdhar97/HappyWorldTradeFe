<div class="grid">
    <div class="col-12">
        <div class="grid">
            <div class="col">
                <div class="grid nested-grid">
                    <div class="col-fixed">
                        <img src="assets/layout/images/icons/investment.png" alt="logo" height="60" />
                    </div>
                    <div class="col-11">
                        <div class="text-900 font-bold text-3xl mb-1">
                            Invesment
                        </div>
                        <div class="text-700 text-1xl line-height-3">
                            New Invesment.
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-fixed">
                <p-button [routerLink]="['/invest']" label="Close"
                    styleClass="p-button-rounded p-button-raised p-button-danger" icon="pi pi-times"></p-button>
            </div>
        </div>
    </div>
    <div class="col-12">
        <div class="stepsdemo-content">
            <p-card>
                <ng-template pTemplate="title"> New Invesment Details </ng-template>
                <ng-template pTemplate="subtitle">
                    <!-- Enter Permisiion Name -->
                </ng-template>
                <ng-template pTemplate="content">
                    <form [formGroup]="investmentForm" class="p-fluid p-formgrid grid">

                        <div class="field col-12 md:col-6">
                            <label for="user">User</label>
                            <p-dropdown [options]="users" formControlName="userName" optionLabel="name" [filter]="true"
                                filterBy="name" [showClear]="true" placeholder="Select an user"
                                [showClear]="true"></p-dropdown>
                            <span class="block" style="color: red;">
                                <custom-mat-error [control]="errorControl['userName']"></custom-mat-error>
                            </span>
                        </div>

                        <div class="field col-12 md:col-6">
                            <label htmlFor="amount">Amount</label>
                            <input pInputText id="amount" type="number" formControlName="amount"
                                placeholder="Enter amount." />
                            <span class="block" style="color: red;">
                                <custom-mat-error [control]="errorControl['amount']"></custom-mat-error>
                            </span>
                        </div>

                        <div class="field col-12 md:col-6">
                            <label for="tenure">Tenure</label>
                            <p-dropdown [options]="tenures" formControlName="tenure" optionLabel="name" [filter]="true"
                                filterBy="name" [showClear]="true" placeholder="Select Tenure"
                                [showClear]="true"></p-dropdown>
                            <span class="block" style="color: red;">
                                <custom-mat-error [control]="errorControl['tenure']"></custom-mat-error>
                            </span>
                        </div>

                        <div class="field col-12 md:col-6">
                            <label htmlFor="perRate">Percenatge Rate</label>
                            <input pInputText id="perRate" type="number" formControlName="rate"
                                placeholder="Enter percentage rate" />
                            <span class="block" style="color: red;">
                                <custom-mat-error [control]="errorControl['rate']"></custom-mat-error>
                            </span>
                        </div>

                        <div class="field col-12 md:col-6">
                            <label for="schemename">Scheme</label>
                            <p-dropdown [options]="schemes" formControlName="scheme" optionLabel="name" [filter]="true"
                                filterBy="name" [showClear]="true" placeholder="Select a Scheme"
                                [showClear]="true"></p-dropdown>
                            <span class="block" style="color: red;">
                                <custom-mat-error [control]="errorControl['scheme']"></custom-mat-error>
                            </span>
                        </div>

                        <div class="field col-12 md:col-6">
                            <label htmlFor="returnamount">Return Amount</label>
                            <input pInputText id="returnamount" type="number" formControlName="returnAmout" />
                            <span class="block" style="color: red;">
                                <custom-mat-error [control]="errorControl['returnAmout']"></custom-mat-error>
                            </span>
                        </div>

                        <div class="field col-12 md:col-6">
                            <label for="paymethod">Payment Method</label>
                            <p-dropdown [options]="paymentMethods" formControlName="paymentMethod" optionLabel="name"
                                [filter]="true" filterBy="name" [showClear]="true" placeholder="Select a payment method"
                                [showClear]="true" (onChange)="onMethodSelect($event)"></p-dropdown>
                            <span class="block" style="color: red;">
                                <custom-mat-error [control]="errorControl['paymentMethod']"></custom-mat-error>
                            </span>
                        </div>


                        <!-- Common -->
                        <div class="field col-12 md:col-6"
                            *ngIf="this.formControlValues.paymentMethod.name == 'NEFT' || this.formControlValues.paymentMethod.name == 'UPI'">
                            <label for="name">Name</label>
                            <input pInputText id="name" type="text" formControlName="name" />
                            <span class="block" style="color: red;">
                                <custom-mat-error [control]="errorControl['name']"></custom-mat-error>
                            </span>
                        </div>

                        <div class="field col-12 md:col-6"
                            *ngIf="this.formControlValues.paymentMethod.name == 'NEFT' || this.formControlValues.paymentMethod.name == 'UPI'">
                            <label for="mobile">Mobile</label>
                            <input pInputText id="mobile" type="text" formControlName="mobile" />
                            <span class="block" style="color: red;">
                                <custom-mat-error [control]="errorControl['mobile']"></custom-mat-error>
                            </span>
                        </div>

                        <div class="field col-12 md:col-6" *ngIf="this.formControlValues.paymentMethod.name == 'UPI'">
                            <label for="transactionId">Transaction ID</label>
                            <input pInputText id="transactionId" type="text" formControlName="transactionId" />
                            <span class="block" style="color: red;">
                                <custom-mat-error [control]="errorControl['transactionId']"></custom-mat-error>
                            </span>
                        </div>

                        <!-- For UPI -->
                        <div class="field col-12 md:col-6" *ngIf="this.formControlValues.paymentMethod.name == 'UPI'">
                            <label for="fromupi">From UPI</label>
                            <input pInputText id="fromupi" type="text" formControlName="fromUpi" />
                            <span class="block" style="color: red;">
                                <custom-mat-error [control]="errorControl['fromUpi']"></custom-mat-error>
                            </span>
                        </div>

                        <div class="field col-12 md:col-6" *ngIf="this.formControlValues.paymentMethod.name == 'UPI'">
                            <label for="toupi">To UPI</label>
                            <input pInputText id="toupi" type="text" formControlName="toUpi" />
                            <span class="block" style="color: red;">
                                <custom-mat-error [control]="errorControl['toUpi']"></custom-mat-error>
                            </span>
                        </div>

                        <!-- For NEFT -->
                        <div class="field col-12 md:col-6" *ngIf="this.formControlValues.paymentMethod.name == 'NEFT'">
                            <label for="frombank">From Bank</label>
                            <input pInputText id="frombank" type="text" formControlName="fromBank" />
                            <span class="block" style="color: red;">
                                <custom-mat-error [control]="errorControl['fromBank']"></custom-mat-error>
                            </span>
                        </div>

                        <div class="field col-12 md:col-6" *ngIf="this.formControlValues.paymentMethod.name == 'NEFT'">
                            <label for="tobank">To Bank</label>
                            <input pInputText id="tobank" type="text" formControlName="toBank" />
                            <span class="block" style="color: red;">
                                <custom-mat-error [control]="errorControl['toBank']"></custom-mat-error>
                            </span>
                        </div>

                        <div class="field col-12 md:col-6" *ngIf="this.formControlValues.paymentMethod.name == 'NEFT'">
                            <label for="neftref">NEFT Reference</label>
                            <input pInputText id="neftref" type="text" formControlName="neftRef" />
                            <span class="block" style="color: red;">
                                <custom-mat-error [control]="errorControl['neftRef']"></custom-mat-error>
                            </span>
                        </div>

                        <!-- For Cheque -->
                        <div class="field col-12 md:col-6"
                            *ngIf="this.formControlValues.paymentMethod.name == 'Cheque'">
                            <label for="towhom">TO Whom</label>
                            <input pInputText id="towhom" type="text" formControlName="toWhom" />
                            <span class="block" style="color: red;">
                                <custom-mat-error [control]="errorControl['toWhom']"></custom-mat-error>
                            </span>
                        </div>

                        <div class="field col-12 md:col-6"
                            *ngIf="this.formControlValues.paymentMethod.name == 'Cheque'">
                            <label for="chequefrombank">Cheque From Bank</label>
                            <input pInputText id="chequefrombank" type="text" formControlName="chequeFromBank" />
                            <span class="block" style="color: red;">
                                <custom-mat-error [control]="errorControl['chequeFromBank']"></custom-mat-error>
                            </span>
                        </div>

                        <div class="field col-12 md:col-6"
                            *ngIf="this.formControlValues.paymentMethod.name == 'Cheque'">
                            <label for="chequeno">Cheque Number</label>
                            <input pInputText id="chequeno" type="text" formControlName="chequeNo" />
                            <span class="block" style="color: red;">
                                <custom-mat-error [control]="errorControl['chequeNo']"></custom-mat-error>
                            </span>
                        </div>

                        <div class="field col-12 md:col-6"
                            *ngIf="this.formControlValues.paymentMethod.name == 'Cheque'">
                            <label for="chequdate">Cheque Dated On</label>
                            <p-calendar [showIcon]="true" inputId="icon" id="chequdate"
                                formControlName="chequeDatedOn"></p-calendar>
                            <span class="block" style="color: red;">
                                <custom-mat-error [control]="errorControl['chequeDatedOn']"></custom-mat-error>
                            </span>
                        </div>


                        <!-- <div class="field col-12 md:col-6">
                            <label htmlFor="docno">Document No.</label>
                            <input pInputText id="docno" type="text" formControlName="documentNo"
                                placeholder="Enter document number" />
                            <span class="block" style="color: red;">
                                <custom-mat-error [control]="errorControl['documentNo']"></custom-mat-error>
                            </span>
                        </div> -->

                        <div class="field col-12 md:col-6">
                            <label htmlFor="investdate">Investment Date</label>
                            <!-- <input pInputText id="investdate" type="date" formControlName="investmentDate"
                            placeholder="Enter investment date." /> -->
                            <p-calendar [showIcon]="true" inputId="icon" id="investdate"
                                formControlName="investmentDate"></p-calendar>
                            <span class="block" style="color: red;">
                                <custom-mat-error [control]="errorControl['investmentDate']"></custom-mat-error>
                            </span>
                        </div>

                        <div class="field col-12 md:col-6">
                            <label htmlFor="investdate">Upload the image</label>
                            <p-fileUpload (onUpload)="onUpload($event)" [multiple]="true" accept="image/*"
                                [maxFileSize]="1000000">
                                <ng-template pTemplate="content">
                                    <ul *ngIf="uploadedFiles.length">
                                        <li *ngFor="let file of uploadedFiles">{{file.name}} - {{file.size}} bytes</li>
                                    </ul>
                                </ng-template>
                            </p-fileUpload>
                        </div>

                        <div class="field col-12 md:col-6">
                            <label htmlFor="remarks">Remarks</label>
                            <input pInputText id="remarks" type="text" formControlName="remarks"
                                placeholder="Enter remarks" />
                            <span class="block" style="color: red;">
                                <custom-mat-error [control]="errorControl['remarks']"></custom-mat-error>
                            </span>
                        </div>

                    </form>
                </ng-template>
                <ng-template pTemplate="footer">
                    <div class="grid grid-nogutter justify-content-end">
                        <p-button label="Submit" icon="pi pi-save" styleClass="p-button-raised p-button-success"
                            (onClick)="submit()"></p-button>
                    </div>
                </ng-template>
            </p-card>
        </div>
    </div>
</div>